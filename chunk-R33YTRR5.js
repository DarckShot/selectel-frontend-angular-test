import{Ba as H,Ca as j,Da as C,Ea as v,F as L,Fa as x,Ga as O,Ha as b,Ia as q,J as $,Ja as a,Ka as r,La as y,Ma as h,Na as D,O as u,Oa as T,P as g,Pa as M,Qa as p,Ra as B,Sa as c,Ta as f,Ua as _,Wa as S,Xa as z,Z as I,Za as E,_a as d,ka as o,ua as l}from"./chunk-SU4A32X7.js";var N=class n{sectionName=d("");selectedItemsCount=d(0);selectedItemsValue=d(0);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-header"]],inputs:{sectionName:[1,"sectionName"],selectedItemsCount:[1,"selectedItemsCount"],selectedItemsValue:[1,"selectedItemsValue"]},decls:14,vars:3,consts:[[1,"header__container"],[1,"header__accent_numbers"],[1,"header__selected_container"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"h1"),c(2," \u0420\u0430\u0437\u0434\u0435\u043B:"),a(3,"span",1),c(4),r()(),a(5,"div",2)(6,"p"),c(7," \u0412\u044B\u0431\u0440\u0430\u043D\u043E \u043F\u0443\u043D\u043A\u0442\u043E\u0432: "),a(8,"span",1),c(9),r()(),a(10,"p"),c(11," \u041E\u0431\u0449\u0435\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: "),a(12,"span",1),c(13),r()()()()),e&2&&(o(4),_(" ",i.sectionName()),o(5),f(i.selectedItemsCount()),o(4),_(" ",i.selectedItemsValue()))},styles:[".header__container[_ngcontent-%COMP%]{width:100%;padding:10px 20px 0;display:flex;justify-content:space-between;align-items:center;text-align:center;border-bottom:2px solid var(--color-primary)}.header__container[_ngcontent-%COMP%]   .header__accent_numbers[_ngcontent-%COMP%]{font-weight:700;color:var(--color-primary)}.header__container[_ngcontent-%COMP%]   .header__selected_container[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}"],changeDetection:0})};var J=(n,t)=>t.id;function K(n,t){if(n&1){let e=h();a(0,"label",0)(1,"input",1),M("change",function(){let s=u(e).$implicit,m=p();return g(m.onSectionChange(s))}),r(),y(2,"span",2),a(3,"p",3),c(4),r()()}if(n&2){let e=t.$implicit;o(),D("id","radio-"+e.id)("value",e.sectionName),o(3),f(e.sectionName)}}var w=class n{sections=d.required();selectedSectionChange=E();onSectionChange(t){this.selectedSectionChange.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-section-selector"]],inputs:{sections:[1,"sections"]},outputs:{selectedSectionChange:"selectedSectionChange"},decls:2,vars:0,consts:[[1,"radio-label"],["type","radio","name","section",1,"radio-input",3,"change","id","value"],["aria-hidden","true",1,"radio"],[1,"menu-label"]],template:function(e,i){e&1&&C(0,K,5,3,"label",0,J),e&2&&v(i.sections())},styles:["[_nghost-%COMP%]{width:25%;min-height:0;align-self:stretch;padding:20px;display:flex;flex-direction:column;gap:12px;border-right:2px solid var(--color-primary);overflow-y:scroll;scrollbar-width:thin;scrollbar-color:rgba(15,23,42,.14) transparent}[_nghost-%COMP%]::-webkit-scrollbar{width:8px}[_nghost-%COMP%]::-webkit-scrollbar-track{background:transparent}[_nghost-%COMP%]::-webkit-scrollbar-thumb{background:#0f172a24;border-radius:10px;border:2px solid transparent;background-clip:padding-box}"],changeDetection:0})};var Q=(n,t)=>t.id;function U(n,t){if(n&1){let e=h();a(0,"label",1)(1,"input",2,0),M("change",function(){let s=u(e).$implicit,m=B(2),G=p();return g(G.onCheckboxChange(s,m))}),r(),y(3,"span",3),a(4,"div",4)(5,"p",5),c(6),r(),a(7,"p",6),c(8),r()()()}if(n&2){let e=t.$implicit,i=p();o(),D("id","item-"+e.id)("checked",i.isSelected(e)),o(5),f(e.name),o(2),_("Value: ",e.value)}}var P=class n{section=d.required();selectedItemsCheck=E();selectedIds=z({source:this.section,computation:()=>new Set});emitSelectedItems(){let t=this.section()?.items?.filter(e=>this.selectedIds().has(e.id))??[];this.selectedItemsCheck.emit(t)}isSelected(t){return this.selectedIds().has(t.id)}onCheckboxChange(t,e){this.toggleSelection(t,e.checked)}toggleSelection(t,e){this.selectedIds.update(i=>{let s=new Set(i);return e?s.add(t.id):s.delete(t.id),s}),this.emitSelectedItems()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-item-selector"]],inputs:{section:[1,"section"]},outputs:{selectedItemsCheck:"selectedItemsCheck"},decls:2,vars:0,consts:[["checkbox",""],[1,"checkbox-label"],["type","checkbox",1,"checkbox-input",3,"change","id","checked"],["aria-hidden","true",1,"checkbox"],[1,"item-info"],[1,"item-name"],[1,"item-value"]],template:function(e,i){e&1&&C(0,U,9,4,"label",1,Q),e&2&&v(i.section().items)},styles:["[_nghost-%COMP%]{padding:20px;display:flex;flex-direction:column;gap:12px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.item-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.item-info[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text)}.item-info[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:var(--muted)}"],changeDetection:0})};var A={sections:[{id:1,sectionName:"\u0422\u0438\u043F 1",items:[{id:1,name:"Item1",value:20},{id:2,name:"Item2",value:30},{id:3,name:"Item3",value:40},{id:4,name:"Item4",value:50}]},{id:2,sectionName:"\u0422\u0438\u043F 2",items:[{id:1,name:"Item1",value:100},{id:2,name:"Item2",value:200},{id:3,name:"Item3",value:300},{id:4,name:"Item4",value:400}]}]};var V=class n{dataSignal=I(A);data=this.dataSignal.asReadonly();static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function X(n,t){if(n&1){let e=h();O(0,"app-item-selector",4),T("selectedItemsCheck",function(s){u(e);let m=p();return g(m.onItemsSelected(s))}),b()}n&2&&x("section",t)}var R=class n{dataService=$(V);data=this.dataService.data;selectedSection=I(null);selectedItems=I([]);sections=S(()=>this.data().sections);sectionName=S(()=>this.selectedSection()?.sectionName||"");selectedItemsCount=S(()=>this.selectedItems().length);selectedItemsValue=S(()=>this.selectedItems().reduce((t,e)=>t+e.value,0));onSectionSelected(t){this.selectedSection.set(t),this.selectedItems.set([])}onItemsSelected(t){this.selectedItems.set(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=l({type:n,selectors:[["app-list-page"]],decls:4,vars:5,consts:[[3,"selectedItemsCount","selectedItemsValue","sectionName"],[1,"list-page__container"],[3,"selectedSectionChange","sections"],[3,"section"],[3,"selectedItemsCheck","section"]],template:function(e,i){if(e&1&&(q(0,"app-header",0),O(1,"div",1)(2,"app-section-selector",2),T("selectedSectionChange",function(m){return i.onSectionSelected(m)}),b(),H(3,X,1,1,"app-item-selector",3),b()),e&2){let s;x("selectedItemsCount",i.selectedItemsCount())("selectedItemsValue",i.selectedItemsValue())("sectionName",i.sectionName()),o(2),x("sections",i.sections()),o(),j((s=i.selectedSection())?3:-1,s)}},dependencies:[N,w,P],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;min-height:0;overflow:hidden}.list-page__container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex:1 1 auto;min-height:0}"],changeDetection:0})};export{R as ListPage};
